#!/usr/local/bin//python3

""" MVP of python_create

API:
    - create new <thing>

Things we can create:
    - requirements.txt
    - setupfile
    - readme
    - license
    - python package
    - essentials (all of the above)
"""


def main(args):
    
    # Check input
    if len(args) != 2:
        raise Exception(f"We need two arguments, not {len(args)}")

    if args[0] != "new":
        raise NotImplementedError(f"{args[0]} is not an implemented command")

    command, recipe = args
    
    procedure = get_procedure(command)
    procedure.create(recipe)

def get_procedure(command):
    
    procedures = {
        "new": New()
    }

    return procedures[command]


class New:
    def create(self, recipe):
        recipes = {
            "readme": ReadMe(),
        }

        if recipes.get(recipe):
            return recipes[recipe]
        else:
            raise NotImplementedError(f"{recipe} is not implemented")


class ReadMe:
    pass


if __name__ == "__main__": 
    from sys import argv
    args = argv[1:]
    main(args)
